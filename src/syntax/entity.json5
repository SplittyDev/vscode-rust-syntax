{
  "repository": {
    "entity": {
      "patterns": [
        {
          "match": "(?<=fn )([a-zA-RT-Z][a-zA-Z0-9_]+)",
          "name": "entity.name.function.rust",
        },
        {
          "match": "([a-zA-RT-Z][a-zA-Z0-9_]+)(?=[(])",
          "name": "entity.name.function.rust",
        },
        {
          "match": "([a-zA-RT-Z][a-zA-Z0-9_]+)(\\<)(T)(\\>)(?=[(])",
          "name": "entity.name.function.rust",
          "captures": {
            "1": {"name": "entity.name.function.rust"},
            "2": {"name": "punctuation.definition.type.rust"},
            "3": {"name": "entity.name.type.generic.rust"},
            "4": {"name": "punctuation.definition.type.rust"}
          },
        },
        // =================================================
        {
          "match": "(Some)(?=[(])",
          "name": "support.constant.core.rust",
        },
        {
          "name": "storage.type.rust",
          "match": "impl(?=<)",
        },
        {
          "match": "(mod)\\s([a-zA-Z_]+)",
          "captures": {
            "1": {"name": "storage.type.module.rust"},
            "2": {"name": "entity.name.type.module.rust"}
          },
        },
        {
          "comment": "Type declaration",
          "match": "\\b(enum|struct|trait|union)\\s+([a-zA-Z_][a-zA-Z0-9_]+)",
          "captures": {
            "1": {"name": "storage.type.rust"},
            "2": {"name": "entity.name.type.rust"}
          },
        },
        {
          "comment": "Type alias",
          "begin": "\\b(type)\\s+([a-zA-Z_][a-zA-Z0-9_]*)",
          "end": ";",
          "beginCaptures": {
            "1": {"name": "storage.type.rust"},
            "2": {"name": "entity.name.type.rust"}
          },
        },
      ]
    }
  }
}
